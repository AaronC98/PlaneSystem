<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Alternative Provers &#8212; SPARK 2014 User&#39;s Guide 2019</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2019',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Project Attributes" href="project_attributes.html" />
    <link rel="prev" title="Command Line Invocation" href="command_line_invocation.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="project_attributes.html" title="Project Attributes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="command_line_invocation.html" title="Command Line Invocation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SPARK 2014 User&#39;s Guide 2019</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Alternative Provers</a><ul>
<li><a class="reference internal" href="#installed-with-spark-pro">Installed with SPARK Pro</a></li>
<li><a class="reference internal" href="#installed-with-spark-discovery">Installed with SPARK Discovery</a></li>
<li><a class="reference internal" href="#installed-with-spark-community">Installed with SPARK Community</a></li>
<li><a class="reference internal" href="#other-automatic-or-manual-provers">Other Automatic or Manual Provers</a><ul>
<li><a class="reference internal" href="#updating-the-why3-configuration-file">Updating the Why3 Configuration File</a></li>
<li><a class="reference internal" href="#sharing-libraries-of-theorems">Sharing Libraries of Theorems</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coq">Coq</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="command_line_invocation.html"
                        title="previous chapter">Command Line Invocation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="project_attributes.html"
                        title="next chapter">Project Attributes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/en/appendix/alternative_provers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="alternative-provers">
<span id="id1"></span><h1>Alternative Provers<a class="headerlink" href="#alternative-provers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installed-with-spark-pro">
<h2>Installed with SPARK Pro<a class="headerlink" href="#installed-with-spark-pro" title="Permalink to this headline">¶</a></h2>
<p>The provers Alt-Ergo, CVC4 and Z3 are installed with the SPARK tool. By
default, GNATprove uses prover CVC4 only. Switch <code class="docutils literal"><span class="pre">--level</span></code> changes the
default to use one or more provers depending on the chosen level (see
<a class="reference internal" href="../source/how_to_run_gnatprove.html#running-gnatprove-from-the-command-line"><span class="std std-ref">Running GNATprove from the Command Line</span></a>). Switch <code class="docutils literal"><span class="pre">--prover</span></code> allows to
use another prover, or a list of provers. Prover names <code class="docutils literal"><span class="pre">altergo</span></code>, <code class="docutils literal"><span class="pre">cvc4</span></code>
and <code class="docutils literal"><span class="pre">z3</span></code> are used to refer to the versions of provers Alt-Ergo, CVC4 and Z3
that are installed with the SPARK toolset. The string <code class="docutils literal"><span class="pre">alt-ergo</span></code> can also
be used to refer to Alt-Ergo. More information on Alt-Ergo, CVC4 and Z3 can be
found on their respective websites:</p>
<blockquote>
<div><ul class="simple">
<li>Alt-Ergo: <a class="reference external" href="https://alt-ergo.ocamlpro.com">https://alt-ergo.ocamlpro.com</a></li>
<li>CVC4: <a class="reference external" href="http://cvc4.cs.stanford.edu/web/">http://cvc4.cs.stanford.edu/web/</a></li>
<li>Z3: <a class="reference external" href="https://github.com/Z3Prover/z3">https://github.com/Z3Prover/z3</a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="installed-with-spark-discovery">
<h2>Installed with SPARK Discovery<a class="headerlink" href="#installed-with-spark-discovery" title="Permalink to this headline">¶</a></h2>
<p>In this case, only prover Alt-Ergo is installed with the SPARK tool. Hence,
by default GNATprove only uses prover Alt-Ergo. In particular, switch
<code class="docutils literal"><span class="pre">--level</span></code> has no impact on the use of different provers.</p>
</div>
<div class="section" id="installed-with-spark-community">
<h2>Installed with SPARK Community<a class="headerlink" href="#installed-with-spark-community" title="Permalink to this headline">¶</a></h2>
<p>The provers Alt-Ergo, CVC4 and Z3 are installed with the SPARK tool.</p>
</div>
<div class="section" id="other-automatic-or-manual-provers">
<h2>Other Automatic or Manual Provers<a class="headerlink" href="#other-automatic-or-manual-provers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="updating-the-why3-configuration-file">
<h3>Updating the Why3 Configuration File<a class="headerlink" href="#updating-the-why3-configuration-file" title="Permalink to this headline">¶</a></h3>
<p>GNATprove can call other provers, as long as they are supported by the Why3
platform (see complete list on <a class="reference external" href="http://why3.lri.fr/#provers">Why3 webpage</a>). To use another prover, it must be listed in
your Why3 configuration file.</p>
<p>To create or update automatically a Why3 configuration file, call the command
<code class="docutils literal"><span class="pre">&lt;spark2014-install&gt;/libexec/spark/bin/why3config</span> <span class="pre">--detect-provers</span></code>. It
searches your <code class="docutils literal"><span class="pre">PATH</span></code> for any supported provers and adds them to the default
configuration file <code class="docutils literal"><span class="pre">.why3.conf</span></code> in your <code class="docutils literal"><span class="pre">HOME</span></code>, or a configuration file
given in argument with switch <code class="docutils literal"><span class="pre">-C</span> <span class="pre">&lt;file&gt;</span></code>.  This file consists of a few
general settings and a section for each prover which is supported.</p>
<p>GNATprove reads the default configuration file <code class="docutils literal"><span class="pre">.why3.conf</span></code> in your
<code class="docutils literal"><span class="pre">HOME</span></code>, or the configuration file given in argument with switch
<code class="docutils literal"><span class="pre">--why3-conf=&lt;file&gt;</span></code>. Any prover name configured in this configuration file
can be used as an argument to switch <code class="docutils literal"><span class="pre">--prover</span></code>.</p>
<p>Note that using this mechanism, you cannot replace the definitions provided
with the SPARK tools for the provers <code class="docutils literal"><span class="pre">altergo</span></code>, <code class="docutils literal"><span class="pre">cvc4</span></code> and <code class="docutils literal"><span class="pre">z3</span></code>.</p>
<p>If more than one prover is specified, the provers are tried in order on each
VC, until one of them succeeds or all fail. Interactive provers cannot be
combined with other provers, so must appear on their own.</p>
</div>
<div class="section" id="sharing-libraries-of-theorems">
<h3>Sharing Libraries of Theorems<a class="headerlink" href="#sharing-libraries-of-theorems" title="Permalink to this headline">¶</a></h3>
<p>When GNATprove is used with a manual prover, the user can provide libraries
of theorems to use during the proof process.</p>
<p>To do so, the user will need to set a proof directory (see <a class="reference internal" href="project_attributes.html#project-attributes"><span class="std std-ref">Project Attributes</span></a> for more details on this directory).  The user needs to create a
folder with the same name as the chosen manual prover (the casing of the name
is the same as the one passed to the switch <code class="docutils literal"><span class="pre">--prover</span></code>) and put the library
sources inside this folder.</p>
<p>Finally, some additional fields need to be added to the prover configuration
in the Why3 configuration file (a basic example of prover configuration can
be found in the section on <a class="reference internal" href="#coq"><span class="std std-ref">Coq</span></a>):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">configure_build</span></code>: this field allows you to specify a command to configure
the compilation of the library of theorems. This command will be called each
time a source file is added to the library.</li>
<li><code class="docutils literal"><span class="pre">build_commands</span></code>: this field allows you to specify a set of command which
will be called sequentially to build your library. These commands will be
called each time GNATprove runs the corresponding manual prover.
(In order to define multiple commands for this field, just set the field
multiple times with different values, each time the field is set it adds a
new element to the set of <code class="docutils literal"><span class="pre">build_commands</span></code>).</li>
</ul>
<p>Inside these commands, pattern <code class="docutils literal"><span class="pre">%f</span></code> refers to the name of the library file
considered, and <code class="docutils literal"><span class="pre">%o</span></code> to the name of the main <code class="docutils literal"><span class="pre">gnatprove</span></code> repository
generated by GNATprove. This allows referring to the path of the compiled
library of theorems inside these commands with <code class="docutils literal"><span class="pre">%o/user/&lt;prover_name&gt;</span></code>.</p>
</div>
</div>
<div class="section" id="coq">
<span id="id2"></span><h2>Coq<a class="headerlink" href="#coq" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">gnatprove</span></code> has support for the Coq interactive prover, even though Coq is
not part of the SPARK distribution. If you want to use Coq with SPARK, you
need to install it yourself on your system and put it in your <code class="docutils literal"><span class="pre">PATH</span></code>
environment variable. Then, you can simply provide <code class="docutils literal"><span class="pre">--prover=coq</span></code> to
<code class="docutils literal"><span class="pre">gnatprove</span></code>. Note that the only supported version currently is Coq 8.5.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="project_attributes.html" title="Project Attributes"
             >next</a> |</li>
        <li class="right" >
          <a href="command_line_invocation.html" title="Command Line Invocation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SPARK 2014 User&#39;s Guide 2019</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2019, AdaCore and Altran UK Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>