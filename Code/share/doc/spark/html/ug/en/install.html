<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Installation of GNATprove &#8212; SPARK 2014 User&#39;s Guide 2019</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2019',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Identifying SPARK Code" href="spark_mode.html" />
    <link rel="prev" title="2. Introduction" href="introduction.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="spark_mode.html" title="4. Identifying SPARK Code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="2. Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SPARK 2014 User&#39;s Guide 2019</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Installation of GNATprove</a><ul>
<li><a class="reference internal" href="#system-requirements">3.1. System Requirements</a></li>
<li><a class="reference internal" href="#installation-under-windows">3.2. Installation under Windows</a></li>
<li><a class="reference internal" href="#installation-under-linux-mac">3.3. Installation under Linux/Mac</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">2. Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="spark_mode.html"
                        title="next chapter">4. Identifying SPARK Code</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/en/install.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-of-gnatprove">
<span id="id1"></span><h1>3. Installation of GNATprove<a class="headerlink" href="#installation-of-gnatprove" title="Permalink to this headline">¶</a></h1>
<p>In general, you will need to install a recent version of GNAT toolchain (that
supports Ada 2012 syntax) to compile SPARK programs. You will need to install
one toolchain for each platform that you target, for example one toolchain for
native compilation on your machine and one toolchain for cross compilation to
an embedded platform.</p>
<p>For analyzing SPARK programs, we recommend to first install GPS and then
install GNATprove under the same location. Alternatively, you can install the
GNATbench plug-in for Eclipse instead of GPS, using the Eclipse installation
mechanism. The same version of GPS or GNATbench can support both native and
cross compilations, as well as SPARK analysis.</p>
<p>If you choose to install GNATprove in a different location, you should also
modify the environment variables <code class="docutils literal"><span class="pre">GPR_PROJECT_PATH</span></code> (if you installed GNAT).
On Windows, edit the value of <code class="docutils literal"><span class="pre">GPR_PROJECT_PATH</span></code> under the Environnement
Variables panel, and add to it the value of <code class="docutils literal"><span class="pre">&lt;GNAT</span> <span class="pre">install</span> <span class="pre">dir&gt;/lib/gnat</span></code> and
<code class="docutils literal"><span class="pre">&lt;GNAT</span> <span class="pre">install</span> <span class="pre">dir&gt;/share/gpr</span></code> (so that SPARK can find library projects
installed with GNAT) and <code class="docutils literal"><span class="pre">&lt;SPARK</span> <span class="pre">install</span> <span class="pre">dir&gt;/lib/gnat</span></code> (so that GNAT can
find the SPARK lemma library project installed with SPARK, for details see
<a class="reference internal" href="../gnatprove_by_example/manual_proof.html#manual-proof-using-spark-lemma-library"><span class="std std-ref">Manual Proof Using SPARK Lemma Library</span></a>). On Linux/Mac with Bourne shell,
use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export GPR_PROJECT_PATH=&lt;GNAT install dir&gt;/lib/gnat:&lt;GNAT install dir&gt;/share/gpr:&lt;SPARK install dir&gt;/lib/gnat:$GPR_PROJECT_PATH
</pre></div>
</div>
<p>or on Linux/Mac with C shell:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>setenv GPR_PROJECT_PATH &lt;GNAT install dir&gt;/lib/gnat:&lt;GNAT install dir&gt;/share/gpr:&lt;SPARK install dir&gt;/lib/gnat:$GPR_PROJECT_PATH
</pre></div>
</div>
<p>See below for detailed installation instructions of GPS and GNATprove.</p>
<div class="section" id="system-requirements">
<h2>3.1. System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<p>Formal verification is complex and time consuming, so GNATprove will benefit
from all the speed (CPU) and memory (RAM) that can be made available. A minimum
of 2 GB of RAM per core is recommended. More complex analyses will require more
memory. A recommended configuration for running GNATprove on large systems is
an x86-64 machine running Linux 64bits or Windows 64bits with at least 8 cores
and 16 GB of RAM. Slower machines can be used to analyze small subsystems, but
a minimum of 2.8Ghz CPU and 2 GB of RAM is required.</p>
<p>In addition, if you want to use the integration of CodePeer static analysis
in GNATprove (switch <code class="docutils literal"><span class="pre">--codepeer=on</span></code>) you will need approximately 1 GB of
RAM per 10K SLOC of code. In other words, in order to analyze 300K SLOC of code
with CodePeer, you will need a 64bits configuration with at least 30 GB of
RAM. Note that these numbers will vary depending on the complexity of your
code. If your code is very simple, you will need less memory. On the other hand
if your code is very complex, then you will likely need more memory.</p>
</div>
<div class="section" id="installation-under-windows">
<h2>3.2. Installation under Windows<a class="headerlink" href="#installation-under-windows" title="Permalink to this headline">¶</a></h2>
<p>If not already done, first run the GPS installer by e.g. double clicking
on <cite>gps-&lt;version&gt;-i686-pc-mingw32.exe</cite> and follow the instructions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;re using GNAT GPL instead of GNAT Pro, you should run instead
the GNAT GPL installer, which installs GPS.</p>
</div>
<p>Then similarly run the GNATprove installer, by e.g. double clicking on
<cite>spark-&lt;version&gt;-x86-windows-bin.exe</cite>.</p>
<p>You should have sufficient rights for installing the package (administrator
or normal rights depending on whether it is installed for all users or a
single user).</p>
</div>
<div class="section" id="installation-under-linux-mac">
<h2>3.3. Installation under Linux/Mac<a class="headerlink" href="#installation-under-linux-mac" title="Permalink to this headline">¶</a></h2>
<p>If not already done, you need to extract and install the GPS compressed
tarball and then run the install, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ gzip -dc gps-&lt;version&gt;-&lt;platform&gt;-bin.tar.gz | tar xf -
$ cd gps-&lt;version&gt;-&lt;platform&gt;-bin
$ ./doinstall
</pre></div>
</div>
<p>Then follow the instructions displayed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;re using GNAT GPL instead of GNAT Pro, you should install instead
the GNAT GPL package, which installs GPS.</p>
</div>
<p>Then do the same with the SPARK tarball, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ gzip -dc spark-&lt;version&gt;-&lt;platform&gt;-bin.tar.gz | tar xf -
$ cd spark-&lt;version&gt;-&lt;platform&gt;-bin
$ ./doinstall
</pre></div>
</div>
<p>Note that you need to have sufficient rights for installing the package at the
chosen location (e.g. root rights for installing under /opt/spark).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="spark_mode.html" title="4. Identifying SPARK Code"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="2. Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SPARK 2014 User&#39;s Guide 2019</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2019, AdaCore and Altran UK Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>